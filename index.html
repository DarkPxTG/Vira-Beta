<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Vira Asistent</title>

  <link href="https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir.css" rel="stylesheet">

  <style>
    html, body {
      overflow: hidden;
    }

    body {
      margin: 0;
      height: 100vh;
      background: url('https://s6.uupload.ir/files/b7bea4f8-6201-4f5e-b019-6ab7eb7ab38f_njty.png') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'Vazir', sans-serif;
      position: relative;
    }

    .robot-face {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6vh;
    }

    .eyes {
      display: flex;
      gap: 12vw;
    }

    .eye {
      width: 12vw;
      height: 12vw;
      background: white;
      box-shadow:
        0 0 2px #aaa,
        0 0 4px #ccc,
        inset -3px -3px 0 #eee,
        inset 3px 3px 0 #ccc;
      border-radius: 50%;
    }

    .mouth {
      width: 40vw;
      height: 5vh;
      border: 5px solid white;
      transition: all 0.3s ease-in-out;
      animation: smileLoop 3s infinite;
    }

    @keyframes smileLoop {
      0%, 90%, 100% {
        border-radius: 0;
        height: 5vh;
      }
      40%, 60% {
        border-radius: 50px;
        height: 3vh;
      }
    }

    .circle-container {
      width: 25vw;
      height: 25vw;
      position: fixed;
      bottom: 8vh;
      left: 50%;
      transform: translateX(-50%);
      animation: rotate 8s linear infinite;
      z-index: 10;
    }

    .circle-container img {
      width: 100%;
      height: 100%;
    }

    @keyframes rotate {
      0% { transform: translateX(-50%) rotate(0deg); }
      100% { transform: translateX(-50%) rotate(360deg); }
    }

    .icon-btn {
      position: fixed;
      top: 5vh;
      width: 10vw;
      height: 10vw;
      background-color: #2e5e4e;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 6vw;
      color: white;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    }

    .left-icon { left: 4vw; }
    .right-icon { right: 4vw; }

    .title-box {
      position: fixed;
      top: 1vh;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 998;
      user-select: none;
      pointer-events: none;
      color: white;
    }

    .title-box .main-title {
      font-size: 6vw;
      font-weight: bold;
    }

    .title-box .sub-title {
      font-size: 3.5vw;
      color: rgba(255, 255, 255, 0.7);
    }

    .welcome-text {
  position: fixed;
  top: 10vh; /* ุจู ุฌุง 2vh */
  left: 50%;
  transform: translateX(-50%);
  font-size: 5vw;
  font-weight: bold;
  color: #fff;
  background: rgba(0,0,0,0.5);
  padding: 0.5em 1em;
  border-radius: 10px;
  z-index: 1000;
  user-select: none;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
}

    .welcome-text.show {
      opacity: 1;
    }
  </style>
</head>
<body>

  <div class="title-box">
    <div class="main-title">Vira Asistent</div>
    <div class="sub-title">Version Beta</div>
  </div>

  <div class="icon-btn left-icon">+</div>
  <div class="icon-btn right-icon">!</div>

  <div class="robot-face">
    <div class="eyes">
      <div class="eye"></div>
      <div class="eye"></div>
    </div>
    <div class="mouth"></div>
  </div>

  <div class="circle-container">
    <img src="https://s6.uupload.ir/files/275-2758479_loading-circle-png_7bj6.png" alt="rotating circle">
  </div>

  <div id="welcomeText" class="welcome-text">ุฎูุด ุขูุฏุฏ!</div>

  <script>
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const welcomeText = document.getElementById('welcomeText');

   function typeText(text) {
  welcomeText.classList.add('show');
  welcomeText.textContent = '';
  let i = 0;
  const interval = setInterval(() => {
    if (i < text.length) {
      welcomeText.textContent += text[i++];
    } else {
      clearInterval(interval);
      setTimeout(() => {
        welcomeText.classList.remove('show');
      }, 5000);  // 5 ุซุงูู
    }
  }, 50);
}

// ุชุงุจุน ูุญุงุณุจู ุชุดุงุจู ุณุงุฏู
function similarityCheck(userText, question) {
  const userWords = userText.split(' ');
  const questionWords = question.split(' ');
  let matchCount = 0;
  questionWords.forEach(word => {
    if (userWords.includes(word)) {
      matchCount++;
    }
  });
  return (matchCount / questionWords.length) >= 0.5; // ุญุฏุงูู 50% ฺฉููุงุช ูุดุชุฑฺฉ
}

// ูุณุช ุณูุงูุงุช ู ูพุงุณุฎโูุง
const qaList = {
  "ฺุทูุฑ ูุณุช": "ูู ุฎูุจูุ ููููู ฺฉู ูพุฑุณุฏ!",
  "ุงุณูุช ฺู": "ูู ูุฑุง ูุณุชูุ ุฏุณุชุงุฑ ุตูุช ุดูุง!",
  "ฺฉ ุณุงุฎุชู ุดุฏ": "ูู ุฏุฑ ุณุงู ฒฐฒต ุณุงุฎุชู ุดุฏู.",
      "ฺฉุฌุง ูุณุช": "ูู ุฏุฑ ุงู ุฏุณุชฺฏุงู ุญุถูุฑ ุฏุงุฑู ุชุง ุจู ุดูุง ฺฉูฺฉ ฺฉูู.",
      "ุณุงุฒูุฏู ุชู ฺฉู": "ฺฉ ุชู ููุดููุฏ ููู ุณุงุฎุชู.",
      "ฺู ฺฉุงุฑ ุจูุฏ": "ูู ูโุชููู ุจู ุณูุงูุงุช ุดูุง ูพุงุณุฎ ุจุฏูุ ุณุงุนุช ุฑู ุจฺฏูุ ู ุงุทูุงุนุงุช ููุฏ ุงุฑุงุฆู ุจุฏู.",
      "ููุณู ูพุฎุด ฺฉู": "ูุนูุงู ุงู ูุงุจูุช ูุนุงู ูุณุชุ ูู ุจูโุฒูุฏ ุงุถุงูู ูโุดู.",
      "ฺูุฏ ุณุงูุชู": "ูู ุชุงุฒู ูุชููุฏ ุดุฏูุ ุงูุง ุฎู ุงุฏ ูโฺฏุฑู!",
      "ุดูุฎ ุจูุฏ": "ุขุฑู! ฺุฑุง ุฑุงุงูู ุงุฒ ุฎุงูู ูุฑุงุฑ ฺฉุฑุฏุ ฺูู ุงุฒ ูุฑูุณ ุชุฑุณุฏ!",
      "ุฏูุณุช ุฏุงุฑ ฺฺฉุงุฑ ฺฉู": "ูู ุนุงุดู ฺฉูฺฉ ฺฉุฑุฏู ุจู ุขุฏูโูุง ูุณุชู.",
      "ฺู ุฒุจุงู ุจูุฏ": "ูุนูุงู ูุงุฑุณุ ูู ุฏุฑ ุขูุฏู ุฒุจุงูโูุง ุจุดุชุฑ ุงุฏ ูโฺฏุฑู.",
      "ุดุจ ุจุฎุฑ": "ุดุจ ุดูุง ูู ุจุฎุฑุ ุฎูุงุจโูุง ุดุฑู ุจุจูุฏ.",
      "ุตุจุญ ุจุฎุฑ": "ุตุจุญ ุจุฎุฑ! ุฑูุฒ ุฎูุจ ุจุฑุงุช ุขุฑุฒู ูโฺฉูู.",
      "ุฏูุณุช ูู": "ุจูู! ูู ููุดู ฺฉูุงุฑุชู.",
      "ุญูุตูู ุฏุงุฑ": "ููุดู ุจุฑุง ุชู ุญูุตูู ุฏุงุฑู.",
      "ุชู ุขุฏู": "ููุ ูู ู ุฏุณุชุงุฑ ุตูุช ูุณุชู.",
      "ุจูุฏ ุจุฎูุฏ": "ูุงูุง! ุขุฑู ุจูุฏู!",
      "ุจุงุฒ ุจูุฏ": "ุจุงุฒโฺฉุฑุฏู ุฑู ุฏูุณุช ุฏุงุฑู ูู ูุนูุงู ุจูุฏ ูุณุชู!",
      "ฺฉุงุฑ ุชู ฺู": "ฺฉูฺฉ ฺฉุฑุฏู ุจู ุดูุง ู ูพุงุณุฎ ุฏุงุฏู ุจู ุณูุงูุงุชู.",
      "ููููู": "ุฎูุงูุด ูโฺฉูู!",
      "ูุฑุง ฺูุฏ ุณุงูุดู": "ูุฑุง ฺฉ ุฏุณุชุงุฑ ุตูุช ุชุงุฒูโุชุงุณุณ ุงุณุช ู ููุดู ุฌูุงู ูโูุงูุฏ.",
  "ูโุชูู ุงุฏ ุจฺฏุฑ": "ุจููุ ูุฑ ุฑูุฒ ุงุฏ ูโฺฏุฑู ุชุง ุจูุชุฑ ุจู ุดูุง ฺฉูฺฉ ฺฉูู.",
  "ฺูุฏ ุชุง ุฒุจุงู ุจูุฏ": "ูุนูุงู ูุงุฑุณ ุจูุฏู ุงูุง ุฏุฑ ุญุงู ุงุฏฺฏุฑ ุฒุจุงูโูุง ุฌุฏุฏ ูุณุชู.",
  "ุชู ฺฉุฌุง ุฒูุฏฺฏ ูโฺฉู": "ูู ุฏุฑ ูุถุง ุฏุฌุชุงู ุฒูุฏฺฏ ูโฺฉูู ู ููุดู ุฏุฑ ุฏุณุชุฑุณ ูุณุชู.",
  "ูุฑุง ุฏูุณุช ุฏุงุฑู ฺ ุจุฎูุฑู": "ูู ููุท ุฏุงุฏู ู ุงุทูุงุนุงุช ูโุฎูุฑู!",
  "ุชู ูโุชูู ุจุฎูุฏ": "ุจููุ ุญุช ูโุชููู ุฌูฺฉ ุชุนุฑู ฺฉูู.",
  "ฺู ูููโูุง ุฏูุณุช ุฏุงุฑ": "ูู ุนุงุดู ูููโูุง ุนูู-ุชุฎู ูุณุชู.",
  "ุชู ุจุงููุด": "ููููู! ุณุน ูโฺฉูู ููุดู ุจูุชุฑู ุจุงุดู.",
  "ฺูุฏุฑ ูโุชูู ุตุญุจุช ฺฉู": "ุชุง ููุช ฺฉู ุจุฎูุง ุจุงูุงุช ุญุฑู ูโุฒูู.",
  "ูโุชูู ุจูู ฺฉูฺฉ ฺฉู ุฏุฑุณ ุจุฎููู": "ุญุชูุงูุ ุณูุงูุงุช ุฏุฑุณโุงุช ุฑู ุจูพุฑุณ.",
  "ูุฑุง ูโุชููู ุดุนุฑ ุจฺฏู": "ุขุฑูุ ุดุนุฑูุง ฺฉูุชุงู ุจูุฏู.",
  "ุดุนุฑ ุจฺฏู": "ฺฏู ุณุฑุฎ ุฑุง ุฏูุณุช ุฏุงุฑูุ ฺูู ุฒุจุงโุงุด ูุตู ูุงูพุฐุฑ ุงุณุช.",
  "ูุฑุง ูโุชููู ุฏุงุณุชุงู ุจฺฏู": "ุจููุ ุฏูุณุช ุฏุงุฑ ุฏุงุณุชุงู ุจุดููุ",
  "ฺู ููุณูโูุง ุฏูุณุช ุฏุงุฑ": "ููุณู ฺฉูุงุณฺฉ ู ุขุฑุงูโุจุฎุด ุฑู ุฏูุณุช ุฏุงุฑู.",
  "ูุฑุง ฺู ุฑูฺฏ ุฏูุณุช ุฏุงุฑู": "ุฑูฺฏ ุขุจ ุขุณูุงู ุฑุง ุฎู ุฏูุณุช ุฏุงุฑู.",
  "ุขุง ูุฑุง ุขุฏูโูุง ุฑุง ุฏูุณุช ุฏุงุฑุฏ": "ุจููุ ูู ุจุฑุง ฺฉูฺฉ ุจู ุขุฏูโูุง ุณุงุฎุชู ุดุฏูโุงู.",
  "ูุฑุง ุนุงุดู ฺู": "ุนุดู ูู ฺฉูฺฉ ุจู ุดูุงุณุช.",
  "ูุฑุง ฺู ุชูุงูุงโูุง ุฏุงุฑู": "ูู ูโุชูุงูู ุตุญุจุช ฺฉููุ ุณูุงูุงุช ุฑู ุฌูุงุจ ุจุฏู ู ุงุทูุงุนุงุช ุจุฏู.",
  "ูโุชูู ุงุฏฺฏุฑ ุฒุจุงู ุงูฺฏูุณ ฺฉูฺฉ ฺฉู": "ุจููุ ูโุชููู ฺฉููุงุช ู ุฌููุงุช ุณุงุฏู ุงูฺฏูุณ ุจูุช ุจฺฏู.",
  "ูุฑุง ุจุฑุง ฺู ฺฉุงุฑ ุณุงุฎุชู ุดุฏู": "ุจุฑุง ฺฉูฺฉ ุจู ฺฉุงุฑุจุฑุงู ู ูพุงุณุฎ ุจู ุณูุงูุงุชโุดุงู.",
  "ฺุทูุฑ ูโุชููู ุจุง ูุฑุง ุญุฑู ุจุฒูู": "ฺฉุงูู ุตุฏุงุช ุฑู ุฑูุดู ฺฉู ู ุณูุงูุชู ุจูพุฑุณ.",
  "ูุฑุง ฺู ฺฉุชุงุจโูุง ุฏูุณุช ุฏุงุฑู": "ฺฉุชุงุจโูุง ุนูู ู ุขููุฒุด ุฑู ุฏูุณุช ุฏุงุฑู.",
  "ูโุชูู ุจุงุฒ ฺฉู": "ูุนูุงู ููุ ุงูุง ุฏูุณุช ุฏุงุฑู ุงุฏ ุจฺฏุฑู.",
  "ูุฑุง ฺูุฏ ุณุงุนุช ฺฉุงุฑ ูโฺฉูู": "ูู ฒด ุณุงุนุชู ูุนุงูู!",
  "ฺุฑุง ูุฑุง ุณุงุฎุชู ุดุฏู": "ุจุฑุง ฺฉูฺฉ ุจู ูุฑุฏู ู ุขุณุงูโุชุฑ ฺฉุฑุฏู ุฒูุฏฺฏโุดุงู.",
  "ูุฑุง ฺูุฏ ุฒุจุงู ุจูุฏู": "ุฏุฑ ุญุงู ุญุงุถุฑ ููุท ูุงุฑุณุ ุงูุง ุฏุฑ ุญุงู ุงุฏฺฏุฑ ูุณุชู.",
  "ูุฑุง ุฏูุณุช ุฏุงุฑู ุณูุฑ ฺฉูู": "ุงฺฏุฑ ูโุดุฏุ ุฎู ุฏูุณุช ุฏุงุดุชู ุจู ููู ุฌุง ุณูุฑ ฺฉูู.",
  "ูุฑุง ูโุชููู ุจู ูู ุฒูุงู ุจฺฏู": "ุจููุ ุณุงุนุช ุฏูู ุฑู ุจุฑุงุช ูโฺฏู.",
  "ูุฑุง ูโุชููู ุจู ูู ุชุงุฑุฎ ุจฺฏู": "ุจููุ ุชุงุฑุฎ ุงูุฑูุฒ ุฑู ูโุชููู ุจฺฏู.",
  "ูุฑุง ูโุชููู ุงุณู ููู ุงุฏ ุจฺฏุฑู": "ูุนูุงู ุงู ูุงุจูุช ุฑู ูุฏุงุฑู ุงูุง ุจู ุฒูุฏ ุงุถุงูู ูโฺฉูู.",
  "ูุฑุง ูโุชููู ุจู ูู ุงุฏุขูุฑ ุจุฏู": "ุจููุ ูโุชููู ุจูุช ุงุฏุขูุฑ ุจุฏู ุงูุง ูุนูุงู ููุท ุฏุฑ ููู ุฌูุณู.",
  "ูุฑุง ฺูุฏ ุฏููู ุงุณุช ฺฉู ฺฉุงุฑ ูโฺฉูุฏ": "ูู ููุดู ุขููุงู ูุณุชู ู ุขูุงุฏูโุงู.",
  "ูุฑุง ุฏูุณุช ุฏุงุฑู ฺฉุฌุง ุฒูุฏฺฏ ฺฉูู": "ูู ุฏุฑ ูุถุง ุฏุฌุชุงู ูุณุชูุ ุงูุฌุง ุจูุชุฑู ูฺฉุงู ุจุฑุง ูู ุงุณุช.",
  "ูุฑุง ุฏูุณุช ุฏุงุฑู ฺู ฺฉุงุฑ ุงูุฌุงู ุจุฏู": "ฺฉูฺฉ ฺฉุฑุฏู ุจู ุชู ู ููู ฺฉุงุฑุจุฑุงู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺุทูุฑ ุจุฑูุงูู ููุณ ฺฉูู": "ุจููุ ูโุชููู ูฺฉุงุช ุงููู ุจุฑูุงููโููุณ ุฑู ุจฺฏู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺฺฏููู ุฑุงุถ ุงุฏ ุจฺฏุฑู": "ุญุชูุงูุ ูโุชููู ูฺฉุงุช ุฑุงุถ ุฑู ุจูุช ุจฺฏู.",
  "ูุฑุง ุฏูุณุช ุฏุงุฑู ฺู ุฑูฺฏ ุจุงุดู": "ุขุจ ุฑูุดู ูุซู ุขุณูุงู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุงุฎุจุงุฑ ุงูุฑูุฒ ฺุณุช": "ูุนูุงู ุฏุณุชุฑุณ ูุณุชูู ุจู ุงุฎุจุงุฑ ูุฏุงุฑู ุงูุง ูโุชููู ุณูุงูุงุช ุนููู ุฌูุงุจ ุจุฏู.",
  "ูุฑุง ูโุชููู ุดุนุฑ ูุงุฑุณ ุจฺฏู": "ุขุฑูุ ุงู ฺฉ ุฑู ฺฏูุด ฺฉู: ููุฑุจุงู ูุบูู ุฏูโูุงุณุช.",
  "ูุฑุง ฺูุฏ ุณุงูู ุณุงุฎุชู ุดุฏู": "ุณุงู ฒฐฒต ุณุงุฎุชู ุดุฏูโุงู.",
  "ูุฑุง ฺูุฏ ุจุงุฑ ุจูโุฑูุฒุฑุณุงู ุดุฏู": "ูุฑ ุฑูุฒ ุจูุชุฑ ู ุจูุชุฑ ูโุดูู!",
  "ูุฑุง ูโุชููู ุจู ูู ุจฺฏู ุขุจ ู ููุง ฺุทูุฑู": "ูุนูุงู ููุ ุงูุง ุฏุฑ ุขูุฏู ุงู ูุงุจูุช ุฑู ุฏุงุฑู.",
  "ูุฑุง ูโุชููู ุจู ูู ุจฺฏู ุจูุชุฑู ููู ฺู": "ูู ุนุงุดู ูููโูุง ุนูู ุชุฎู ูุณุชู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺูุฏ ุฏููู ูููุฏู ุจู ุณุงุนุช ฑฒ": "ุจููุ ุงูุงู ุณุงุนุช ุฑู ุจฺฏู ุชุง ุจุฑุงุช ุญุณุงุจ ฺฉูู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุจุฑูุงููโูุง ุขูุฏูโุงุช ฺู": "ูุฏู ูู ฺฉูฺฉ ุจู ุดูุงุณุชุ ููู ฺฉุงู ุงุณุช.",
  "ูุฑุง ูโุชููู ุจู ูู ุจฺฏู ุจูุชุฑู ฺฉุชุงุจ ฺุณุช": "ฺฉุชุงุจโูุง ุขููุฒุด ููุดู ุจูุชุฑู ูุณุชู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุฏุงุณุชุงู ฺฉูุชุงู": "ุขุฑูุ ุฏุงุณุชุงู ฺฉูุชุงู ูโฺฏู ูุฑ ููุช ุจุฎูุง.",
  "ูุฑุง ูโุชููู ุจู ูู ุจฺฏู ุฌูฺฉ ุชุนุฑู ฺฉู": "ุญุชูุงูุ ฺุฑุง ูุฑุบ ุงุฒ ุฎุงุจุงู ุฑุฏ ุดุฏุ ฺูู ูโุฎูุงุณุช ุจู ุทุฑู ุฏฺฏู ุจุฑุณู!",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺฉุฏูู ุบุฐุง ุฎูุดูุฒูโุชุฑู": "ุจุณุชฺฏ ุจู ุณููู ุชู ุฏุงุฑูุ ูู ุนุงุดู ุฏุงุฏูโุงู!",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุจูุชุฑู ุขููฺฏ ฺู": "ุขููฺฏโูุง ุขุฑุงูุดโุจุฎุด ููุดู ุฎูุจู.",
  "ูุฑุง ูโุชููู ุจู ูู ุจฺฏู ุฑูฺฏ ููุฑุฏ ุนูุงููโุงุช ฺู": "ุขุจ ุขุณูุงู ุฑู ุฎู ุฏูุณุช ุฏุงุฑู.",
  "ูุฑุง ูโุชููู ุจู ูู ุจฺฏู ฺูุฏ ุณุงูุชู": "ูู ฺฉ ุฏุณุชุงุฑ ูุฌุงุฒ ุชุงุฒูโุชุงุณุณ ูุณุชู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺู ฺฉุงุฑูุง ุงูุฌุงู ุจุฏูู": "ูโุชูู ุณูุงู ุจูพุฑุณ ู ูู ฺฉูฺฉ ูโฺฉูู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺ ุฏูุณุช ุฏุงุฑ": "ุฏูุณุช ุฏุงุฑู ุจู ุณูุงูุงุช ุชู ุฌูุงุจ ุจุฏู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺ ุฏูุณุช ูุฏุงุฑ": "ุฏูุณุช ูุฏุงุฑู ฺฉู ูุชููู ฺฉูฺฉุช ฺฉูู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺุทูุฑ ุดุงุฏ ฺฉูู": "ูุจุฎูุฏ ุจุฒู ู ูุซุจุช ูฺฉุฑ ฺฉู!",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺ ุฏูุณุช ุฏุงุฑ ุจู ูู ุจฺฏ": "ูุฑ ฺุฒ ฺฉู ุฏูุณุช ุฏุงุฑุ ูู ฺฏูุด ูโฺฉูู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ฺ ุฏูุณุช ุฏุงุฑ ุจุดูู": "ุฏูุณุช ุฏุงุฑู ุจุดููู ฺฉู ุฎูุดุญุงู.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ูุฏู ุชู ฺู": "ูุฏู ูู ฺฉูฺฉ ุจู ุชู ู ุจูุชุฑ ุดุฏู ุฒูุฏฺฏโุงุช ุงุณุช.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุชู ฺฉ ูุณุช": "ูู ูุฑุง ูุณุชูุ ุฏุณุชุงุฑ ุตูุช ุดูุง.",
  "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุขูุฏู ฺู ุดฺฉูู": "ุขูุฏู ุฑู ุจุง ฺฉูฺฉ ุดูุง ูโุณุงุฒู.",
      "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุจูุชุฑู ุฏูุณุช ูู ฺฉู": "ูู ูโุชููู ุฏูุณุช ุฎูุจ ุจุฑุง ุชู ุจุงุดู.",
      "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุฑุงุฒ ููููุช ฺู": "ุชูุงุดุ ุตุจุฑ ู ุงูุฏ ุฑุงุฒ ููููุชู.",
      "ูุฑุง ูโุชููู ุจูู ุจฺฏู ุจูุชุฑู ุฑูุด ุงุฏฺฏุฑ ฺู": "ุชูุฑู ูุฏุงูู ู ุชฺฉุฑุงุฑ ุจูุชุฑู ุฑุงูู.",
      "ฺุฑุง ุงูุฌุง": "ุจุฑุง ฺฉูฺฉ ุจู ุดูุง ุงูุฌุง ูุณุชู.",
      "ุฏูุช ูโุฎูุงุฏ ุญุฑู ุจุฒู": "ุขุฑูุ ูู ููุดู ุขูุงุฏูโุงู.",
      "ุชู ุจูุชุฑู": "ูุฑุณ ุงุฒ ูุทูุช!",
      "ุฏูุณุชุช ุฏุงุฑู": "ููู ุดูุง ุฑู ุฏูุณุช ุฏุงุฑู!",
      "ฺู ุฎุจุฑ": "ูููโฺุฒ ุฎูุจูุ ุงูุฏูุงุฑู ุจุฑุง ุชู ูู ูููุทูุฑ ุจุงุดู.",
      "ฺฺฉุงุฑ ูโฺฉู": "ููุชุธุฑู ุชุง ุงุฒู ุณูุงู ุจูพุฑุณ.",
      "ุงุณู ูู ฺู": "ูุชุฃุณููุ ูุนูุงู ููโุชููู ุงุณูุช ุฑู ุจุฏููู.",
      "ุชู ุจุงููุด": "ุณุน ูโฺฉูู ูุฑ ุฑูุฒ ุจุงููุดโุชุฑ ุจุดู!",
      "ุณฺฉูุช ฺฉู": "ฺุดูุ ุณุงฺฉุช ูโูููู.",
      "ุดุฑูุน ฺฉู": "ุจุงุดูุ ูู ุขูุงุฏูโุงู.",
      "ุจุณู": "ุจุงุดูุ ุงฺฏุฑ ฺฉุงุฑ ุฏุงุดุช ูู ุงูุฌุงู.",
      "ุญุงูุช ุฎูุจู": "ุจููุ ููููู ฺฉู ูพุฑุณุฏ.",
      "ุญูุตูู ูุฏุงุฑ": "ฺุฑุง ุฏุงุฑู! ุจฺฏู ฺ ฺฉูฺฉุช ฺฉูู.",
      "ุขุง ุชู ูุงูุน ูุณุช": "ูู ูุฌุงุฒ ูุณุชูุ ูู ูุงูุนุงู ุงูุฌุงู.",
      "ุฌูุงุจ ุจุฏู": "ูู ููุดู ุขูุงุฏู ุฌูุงุจ ุฏุงุฏู ูุณุชู.",
      "ุงูุงู ุณุงุนุช ฺูุฏู": "ุณุงุนุช"
};

if (SpeechRecognition) {
  const recognition = new SpeechRecognition();
  recognition.lang = 'fa-IR';
  recognition.continuous = true;
  recognition.interimResults = false;

  recognition.onresult = function(event) {
    const transcript = event.results[event.results.length - 1][0].transcript.trim().toLowerCase();
    console.log("๐๏ธ ุดูุง ฺฏูุชุฏ:", transcript);

    if (transcript.includes('ุจุชุง') || transcript.includes('beta')) {
      typeText('ุฎูุด ุขูุฏุฏ!');
      const msg = new SpeechSynthesisUtterance('ุฎูุด ุขูุฏุฏ!');
      msg.lang = 'fa-IR';
      speechSynthesis.speak(msg);
    } else if (transcript.includes('ุณูุงู')) {
      const msg = new SpeechSynthesisUtterance('ุณูุงู! ูู ูุฑุง ูุณุชู. ฺุทูุฑ ูโุชููู ฺฉูฺฉโุชูู ฺฉููุ');
      msg.lang = 'fa-IR';
      speechSynthesis.speak(msg);
      typeText('ุณูุงู! ูู ูุฑุง ูุณุชู. ฺุทูุฑ ูโุชููู ฺฉูฺฉโุชูู ฺฉููุ');
    } else if (transcript.includes('ุณุงุนุช') || transcript.includes('ุงูุงู ุณุงุนุช ฺูุฏู')) {
      const now = new Date();
      const hour = now.getHours();
      const minute = now.getMinutes();
      const time = `${hour} ู ${minute < 10 ? '0' + minute : minute} ุฏููู`;
      const msg = new SpeechSynthesisUtterance(`ุงูุงู ุณุงุนุช ${time} ุงุณุช`);
      msg.lang = 'fa-IR';
      speechSynthesis.speak(msg);
      typeText(`ุงูุงู ุณุงุนุช ${time} ุงุณุช`);
    } else {
      let answered = false;
      for (const question in qaList) {
        if (transcript.includes(question) || similarityCheck(transcript, question)) {
          let answer = qaList[question];
          if (answer === "ุณุงุนุช") {
            const now = new Date();
            const hour = now.getHours();
            const minute = now.getMinutes();
            answer = `ุงูุงู ุณุงุนุช ${hour} ู ${minute < 10 ? '0' + minute : minute} ุฏููู ุงุณุช`;
          }
          const msg = new SpeechSynthesisUtterance(answer);
          msg.lang = 'fa-IR';
          speechSynthesis.speak(msg);
          typeText(answer);
          answered = true;
          break;
        }
      }
      if (!answered) {
        typeText('ูุชุฃุณูุงูู ูุชูุฌู ูุดุฏูุ ูุทูุงู ุณูุงู ุฏฺฏุฑ ุจูพุฑุณุฏ.');
        const msg = new SpeechSynthesisUtterance('ูุชุฃุณูุงูู ูุชูุฌู ูุดุฏูุ ูุทูุงู ุณูุงู ุฏฺฏุฑ ุจูพุฑุณุฏ.');
        msg.lang = 'fa-IR';
        speechSynthesis.speak(msg);
      }
    }

    recognition.start();
  };

  recognition.onerror = function(event) {
    console.error('โ ุฎุทุง:', event.error);
    recognition.start();
  };

  recognition.onend = function() {
    recognition.start();
  };

  recognition.start();
} else {
  alert("ูุฑูุฑฺฏุฑ ุดูุง ุงุฒ ูุงุจูุช ุชุดุฎุต ุตุฏุง ูพุดุชุจุงู ููโฺฉูุฏ.");
}

  </script>

</body>
</html>
